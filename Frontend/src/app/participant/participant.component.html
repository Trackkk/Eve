<link
  href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
  rel="stylesheet"
/>

<div class="container d-flex justify-content-center align-items-center min-vh-100">
  <nav class="navbar navbar-expand-lg w-100 position-absolute top-0 left-0">
    <button class="btn btn-navbar btn-events" (click)="goToEvents()">
      <i class="bi bi-arrow-left"></i>Back to Events</button>
    <button class="btn btn-navbar btn-logout ml-auto" (click)="logout()">
      <i class="bi bi-box-arrow-right"></i>Logout</button>
  </nav>

  <div class="card shadow p-4 w-100" style="max-width: 400px;">
    <h2 class="text-center mb-4">Update Participant Details</h2>
    <form (ngSubmit)="updateParticipant()" #form="ngForm">
      <div class="mb-3">
        <label for="name" class="form-label">Name:</label>
        <input id="name" [(ngModel)]="participant.name" name="name" type="text" class="form-control" />
      </div>

      <div class="mb-3">
        <label for="email" class="form-label">Email:</label>
        <input id="email" [(ngModel)]="participant.email" name="email" type="email" class="form-control" />
      </div>

      <div class="mb-3">
        <label for="password" class="form-label">Password:</label>
        <div class="input-group">
          <input
            id="password"
            [(ngModel)]="participant.password"
            name="password"
            [type]="passwordVisible ? 'text' : 'password'"
            class="form-control"
            required
            #password="ngModel" />
          <button
            type="button"
            class="btn btn-outline-secondary"
            (click)="togglePasswordVisibility()">
            <i class="bi" [ngClass]="passwordVisible ? 'bi-eye' : 'bi-eye-slash'"></i>
          </button>
        </div>
        <div *ngIf="password.invalid && password.touched" class="text-danger">
          Password is required.
        </div>
      </div>

      <div class="mb-3">
        <label for="phoneNumber" class="form-label">Phone Number:</label>
        <input id="phoneNumber" [(ngModel)]="participant.phoneNumber" name="phoneNumber" type="text" class="form-control" />
      </div>

      <button type="submit" class="btn btn-primary w-100" [disabled]="form.invalid">Save Changes</button>
    </form>


    <button class="btn btn-danger w-100 mt-3" (click)="deleteParticipant()">Delete Account</button>
  </div>
</div>
